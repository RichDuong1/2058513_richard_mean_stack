let fs = require("fs");
let readline = require("readline-sync");
let fname = readline.question("Enter first name: ");
let lname = readline.question("Enter last name: ");
let gender = readline.question("Enter gender: ");
let email = readline.question("Enter email: ");
let dataarray
debugger;
if(fs.existsSync("data.json")){
    dataarray = JSON.parse(fs.readFileSync("data.json").toString());
}
else{
    dataarray = [];
}
debugger;
let data = setdata(fname,lname,gender,email);
debugger;
dataarray.push(data);
debugger;
writedata(dataarray);


function setdata(fnameT,lnameT,genderT,emailT){
    let dateT = new Date();
    let data = {fname:fnameT, lname:lnameT, gender:genderT, email:emailT, date:dateT};
    return data;
}

function writedata(data){
    let datastring = JSON.stringify(data);
    fs.writeFileSync("data.json",datastring);
}